<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
          "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
  <title>state-assertion</title>
  <style>@import url(style.css);</style>
</head>

<body class="jdocu_main">
<script type="text/javascript">
parent.frames['toc'].d.openTo(1832, true);
</script>
<a name="label14080"></a><p class="jdocu_navbarp"><span class="jdocu_navbar">VIRTUTECH CONFIDENTIAL&nbsp;&nbsp;&nbsp;&nbsp;<a class="jdocu" href="topic379.html">Previous</a> - <a class="jdocu" href="topic15.html">Up</a> - <a class="jdocu" href="topic381.html">Next</a></span></p>
<h3 class="jdocu">state-assertion</h3 class="jdocu">


<a name="label14081"></a><dl class="jdocu_di">


<dt class="jdocu_di"><b>Provided by</b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic14.html#label2920">state-assertion</a></dd>


<dt class="jdocu_di"><b>Class Hierarchy</b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic48.html#label4590">conf-object</a> &#8594; <a class="jdocu" href="topic150.html#label7612">log-object</a> &#8594; <b>state-assertion</b></dd>


<dt class="jdocu_di"><b>Interfaces Implemented</b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic508.html#label17766">log_object</a>, <a class="jdocu" href="topic537.html#label17976">timing_model</a>, <a class="jdocu" href="topic531.html#label17950">snoop_memory</a>, <a class="jdocu" href="topic497.html#label17731">event_poster</a></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">


The <i>state-assertion</i> extension provides the possibility to record the state of various devices at regular interval, to be able to compare it to a later run.<br> When creating trace assertion information, the general scheme is the following:<br>- use state-assertion-create-file to open the file where the data will be saved. This will also create a state-assertion object.<br>- use &lt;state-assertion&gt;.add to specify the objects to assert as well as the amount of steps between each assertion.<br>- use &lt;state-assertion&gt;.start to begin the assertion. From now on, continuing the simulation will record information into the file.<br>- use &lt;state-assertion&gt;.stop to empty the buffers and close the file.<br>When using state-assertion information to compare against the current run, you should:<br>- use state-assertion-open-file to open the file containing the state information you want to use.<br>- use &lt;state-assertion&gt;.start when you want to begin the comparison. The comparison is stopped automatically when no data is available. If states differ, the simulation is stopped and the differences are displayed.<br>It is also possible to connect directly two Simics instead of using a file, with the functions state-assertion-receive and state-assertion-connect. The recording/comparison is then executed directly.

</dd>

</dl>
<a name="label14082"></a><h4 class="jdocu">Attributes</h4 class="jdocu">


<dl class="jdocu_di">


<dt class="jdocu_di"><b>Attributes inherited from class <a class="jdocu" href="topic48.html#label4590">conf-object</a></b></dt><dd class="jdocu_di">
<i><a class="jdocu" href="topic48.html#label4593">attributes</a></i>, <i><a class="jdocu" href="topic48.html#label4594">classname</a></i>, <i><a class="jdocu" href="topic48.html#label4595">component</a></i>, <i><a class="jdocu" href="topic48.html#label4596">iface</a></i>, <i><a class="jdocu" href="topic48.html#label4597">name</a></i>, <i><a class="jdocu" href="topic48.html#label4598">object_id</a></i>, <i><a class="jdocu" href="topic48.html#label4599">queue</a></i></dd>


<dt class="jdocu_di"><b>Attributes inherited from class <a class="jdocu" href="topic150.html#label7612">log-object</a></b></dt><dd class="jdocu_di">
<i><a class="jdocu" href="topic150.html#label7615">access_count</a></i>, <i><a class="jdocu" href="topic150.html#label7616">log_buffer</a></i>, <i><a class="jdocu" href="topic150.html#label7617">log_buffer_last</a></i>, <i><a class="jdocu" href="topic150.html#label7618">log_buffer_size</a></i>, <i><a class="jdocu" href="topic150.html#label7619">log_group_mask</a></i>, <i><a class="jdocu" href="topic150.html#label7620">log_groups</a></i>, <i><a class="jdocu" href="topic150.html#label7621">log_level</a></i>, <i><a class="jdocu" href="topic150.html#label7622">log_type_mask</a></i></dd>


<dt class="jdocu_di"><b>Attribute List</b></dt><dd class="jdocu_di">
<dl><dt><b><i>add</i></b></dt><a name="label14083"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It adds an object to the state assertion queue.</dd></dl>
<dl><dt><b><i>addmemlis</i></b></dt><a name="label14084"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It adds a memory listener in the state-assertion queue.</dd></dl>
<dl><dt><b><i>create</i></b></dt><a name="label14085"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It creates a state assertion file for recording.</dd></dl>
<dl><dt><b><i>fforward</i></b></dt><a name="label14086"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It fast-forwards the assertion process.</dd></dl>
<dl><dt><b><i>flush</i></b></dt><a name="label14087"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
Set attribute to flush buffered output (value should be 1).</dd></dl>
<dl><dt><b><i>info</i></b></dt><a name="label14088"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It provides information on the objects asserted.</dd></dl>
<dl><dt><b><i>lsize</i></b></dt><a name="label14089"></a><dd><b>Pseudo</b> attribute; <b>read-only</b> access; type: <b>Integer</b>.
<p>
This is a fake line size for the memory hierarchy system.</dd></dl>
<dl><dt><b><i>manual_handler</i></b></dt><a name="label14090"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
When this attribute is set, state-assertion reacts as if an event had occur for a specific object.</dd></dl>
<dl><dt><b><i>open</i></b></dt><a name="label14091"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It creates a state assertion file for recording.</dd></dl>
<dl><dt><b><i>start</i></b></dt><a name="label14092"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It starts the state assertion.</dd></dl>
<dl><dt><b><i>status</i></b></dt><a name="label14093"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It provides runtime information on the assertion process.</dd></dl>
<dl><dt><b><i>stop</i></b></dt><a name="label14094"></a><dd><b>Pseudo</b> attribute; <b>read/write</b> access; type: <b>unknown type</b>.
<p>
This is a pseudo-attribute that should not be used directly. It stops the assertion process.</dd></dl>
</dd>

</dl>

<a name="label14095"></a><h4 class="jdocu">Command List</h4 class="jdocu">


<dl class="jdocu_di">


<dt class="jdocu_di"><b>Commands defined by interface <a class="jdocu" href="topic508.html#label17766">log_object</a></b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic508.html#label17770">log</a>, <a class="jdocu" href="topic508.html#label17772">log-group</a>, <a class="jdocu" href="topic508.html#label17774">log-level</a>, <a class="jdocu" href="topic508.html#label17776">log-size</a>, <a class="jdocu" href="topic508.html#label17778">log-type</a></dd>


<dt class="jdocu_di"><b>Commands</b></dt><dd class="jdocu_di">
<table>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label14097">add</a></b></td><td class="jdocu_noborder">add an object to be asserted</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label14099">add-mem-lis</a></b></td><td class="jdocu_noborder">add a memory listener on the specified memory space</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label14101">fforward</a></b></td><td class="jdocu_noborder">fast-forward a state assertion file when comparing</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label14103">info</a></b></td><td class="jdocu_noborder">provide information about the state assertion</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label14105">start</a></b></td><td class="jdocu_noborder">start trace asserting/comparing</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label14107">status</a></b></td><td class="jdocu_noborder">provide the status of the current state assertion</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label14109">stop</a></b></td><td class="jdocu_noborder">stop trace asserting/comparing and close the file</td></tr>
</table>
</dd>

</dl>

<a name="label14096"></a><h4 class="jdocu">Command Descriptions</h4 class="jdocu">




<a name="label14097"></a><a name="label14098"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;state-assertion&gt;.add</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;state-assertion&gt;.add</b> <i>"object-name"</i> <i>steps</i> [<i>type</i>] [<i>"attribute"</i>] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Add an object to a state assertion file so its state will be recorded.<br>
            - <i>obj</i> is the name of the object to be added.<br>
            - <i>steps</i> is the number of steps between each save.<br>
            - <i>type</i> is the type of state saved in the file (for devices that provide several, the most complete state is saved by default). IA64 cpus have two states, 1 is system-level, 2 is user-level (without CR, PSR, RR)<br>
            - <i>attribute</i> is the attribute to save. If specified, the save_state interface is not used and the attribute is saved instead. This is useful for object having no save_state interface.</dd>

</dl>



<a name="label14099"></a><a name="label14100"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;state-assertion&gt;.add-mem-lis</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;state-assertion&gt;.add-mem-lis</b> <i>"memory_space"</i> </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Add a memory listener to a memory space so that all memory transactions will be recorded in the file.<br>
            - <i>memory_space</i> is the name of the memory space  to listen to.<br>
            - <i>-o</i> allows state-assertion to take over an existing memory hierarchy.<br></dd>

</dl>



<a name="label14101"></a><a name="label14102"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;state-assertion&gt;.fforward</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;state-assertion&gt;.fforward</b> <i>"object-name"</i> <i>steps</i> </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Fast-forward a state assertion file. The contents of the file are ignored until the object <i>obj</i> has skipped <i>steps</i> steps. The simulation is not fast-forwarded. Other objects in the file are fast-forwarded along.</dd>

</dl>



<a name="label14103"></a><a name="label14104"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;state-assertion&gt;.info</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;state-assertion&gt;.info</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Describe the state assertion performed by the current object.</dd>

</dl>



<a name="label14105"></a><a name="label14106"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;state-assertion&gt;.start</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;state-assertion&gt;.start</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Start the recording/comparison.</dd>

</dl>



<a name="label14107"></a><a name="label14108"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;state-assertion&gt;.status</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;state-assertion&gt;.status</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Describe the status of the state assertion performed by the
            current object.</dd>

</dl>



<a name="label14109"></a><a name="label14110"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;state-assertion&gt;.stop</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;state-assertion&gt;.stop</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Stop the recording/comparison, flush the buffers and close the file.</dd>

</dl>


<p class="jdocu_navbarp"><span class="jdocu_navbar">VIRTUTECH CONFIDENTIAL&nbsp;&nbsp;&nbsp;&nbsp;<a class="jdocu" href="topic379.html">Previous</a> - <a class="jdocu" href="topic15.html">Up</a> - <a class="jdocu" href="topic381.html">Next</a></span></p>
</body>
</html>
