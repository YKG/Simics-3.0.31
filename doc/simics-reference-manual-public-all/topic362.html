<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
          "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
  <title>service-node</title>
  <style>@import url(style.css);</style>
</head>

<body class="jdocu_main">
<script type="text/javascript">
parent.frames['toc'].d.openTo(1763, true);
</script>
<a name="label13753"></a><p class="jdocu_navbarp"><span class="jdocu_navbar">VIRTUTECH CONFIDENTIAL&nbsp;&nbsp;&nbsp;&nbsp;<a class="jdocu" href="topic361.html">Previous</a> - <a class="jdocu" href="topic15.html">Up</a> - <a class="jdocu" href="topic363.html">Next</a></span></p>
<h3 class="jdocu">service-node</h3 class="jdocu">


<a name="label13754"></a><dl class="jdocu_di">


<dt class="jdocu_di"><b>Provided by</b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic14.html#label2880">service-node</a></dd>


<dt class="jdocu_di"><b>Class Hierarchy</b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic48.html#label4590">conf-object</a> &#8594; <a class="jdocu" href="topic150.html#label7612">log-object</a> &#8594; <b>service-node</b></dd>


<dt class="jdocu_di"><b>Interfaces Implemented</b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic508.html#label17766">log_object</a>, <a class="jdocu" href="topic497.html#label17731">event_poster</a></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">


This class provides services on an Ethernet network.

</dd>

</dl>
<a name="label13755"></a><h4 class="jdocu">Attributes</h4 class="jdocu">


<dl class="jdocu_di">


<dt class="jdocu_di"><b>Attributes inherited from class <a class="jdocu" href="topic48.html#label4590">conf-object</a></b></dt><dd class="jdocu_di">
<i><a class="jdocu" href="topic48.html#label4593">attributes</a></i>, <i><a class="jdocu" href="topic48.html#label4594">classname</a></i>, <i><a class="jdocu" href="topic48.html#label4595">component</a></i>, <i><a class="jdocu" href="topic48.html#label4596">iface</a></i>, <i><a class="jdocu" href="topic48.html#label4597">name</a></i>, <i><a class="jdocu" href="topic48.html#label4598">object_id</a></i>, <i><a class="jdocu" href="topic48.html#label4599">queue</a></i></dd>


<dt class="jdocu_di"><b>Attributes inherited from class <a class="jdocu" href="topic150.html#label7612">log-object</a></b></dt><dd class="jdocu_di">
<i><a class="jdocu" href="topic150.html#label7615">access_count</a></i>, <i><a class="jdocu" href="topic150.html#label7616">log_buffer</a></i>, <i><a class="jdocu" href="topic150.html#label7617">log_buffer_last</a></i>, <i><a class="jdocu" href="topic150.html#label7618">log_buffer_size</a></i>, <i><a class="jdocu" href="topic150.html#label7619">log_group_mask</a></i>, <i><a class="jdocu" href="topic150.html#label7620">log_groups</a></i>, <i><a class="jdocu" href="topic150.html#label7621">log_level</a></i>, <i><a class="jdocu" href="topic150.html#label7622">log_type_mask</a></i></dd>


<dt class="jdocu_di"><b>Attribute List</b></dt><dd class="jdocu_di">
<dl><dt><b><i>allow_real_dns</i></b></dt><a name="label13756"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>b</b>.
<p>
If TRUE, the service node's DNS server will forward queries for unknown hosts to a real DNS server.</dd></dl>
<dl><dt><b><i>bootparam_udp_port</i></b></dt><a name="label13757"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>Integer</b>.
<p>
The UDP port currently used for the Sun RPC Bootparam protocol replies. For checkpointing only.</dd></dl>
<dl><dt><b><i>default_install_server_path</i></b></dt><a name="label13758"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>String</b>.
<p>
Default install server path used by the BOOTP/DHCP and BOOTPARAMS server for clients booting over a network.</dd></dl>
<dl><dt><b><i>default_root_server</i></b></dt><a name="label13759"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[s,s]</b>.
<p>
Default root server and path used by the DHCP and BOOTPARAMS server for clients booting over a network.</dd></dl>
<dl><dt><b><i>dhcp_leases</i></b></dt><a name="label13760"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[ssdii]*]</b>.
<p>
The active leases used by the DHCP service. The sub-entries for each lease are <i>ip-address</i>, <i>mac-address</i>, <i>client-id</i>, <i>lease-time</i>, <i>timestamp</i>. The lease time is given in seconds since the lease was issued.</dd></dl>
<dl><dt><b><i>dhcp_max_lease_time</i></b></dt><a name="label13761"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>i|n</b>.
<p>
The maximum lease time handed out by the DHCP server. If the value is Nil, or 0xffffffff, infinite leases are allowed.</dd></dl>
<dl><dt><b><i>host_pools</i></b></dt><a name="label13762"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[i,s,s,s[[s,s,s,s]*]]*]</b>.
<p>
The host database used by the DHCP and DNS servers.</dd></dl>
<dl><dt><b><i>host_root_install_server</i></b></dt><a name="label13763"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[s,s,s,s]*]</b>.
<p>
Root and install server database used by the DHCP and BOOTPARAMS server for clients booting over a network.</dd></dl>
<dl><dt><b><i>hosts</i></b></dt><a name="label13764"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[s|n,s,s,s]*]</b>.
<p>
The host database used by the DHCP and DNS servers.</dd></dl>
<dl><dt><b><i>napt_enable</i></b></dt><a name="label13765"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>Integer</b>.
<p>
When set to non-zero, the service node will provide network address port translation as specified by RFC 3022. The current implementation can only handle TCP NAPT.</dd></dl>
<dl><dt><b><i>routing_table</i></b></dt><a name="label13766"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[ssso]*]</b>.
<p>
The routing table used by this service node. The four sub-entries for each routing table entry are <i>network</i>, <i>netmask</i>, <i>gateway</i> and <i>service-node</i>. The first three are specified as IP addresses in dot notation. The service-node is the node connected to the network where the gateway resides. For a route where the destination is reachable on the other service-node's connected network, the gateway should be set to 0.0.0.0. To create a default route, both the network and netmask should be set to 0.0.0.0.</dd></dl>
<dl><dt><b><i>services</i></b></dt><a name="label13767"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>D</b>.
<p>
The network services provided by the service-node, as a dictionary, and their enabled/disabled status.</dd></dl>
<dl><dt><b><i>tcp_iss</i></b></dt><a name="label13768"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>Integer</b>.
<p>
TCP initial sequence number.</dd></dl>
<dl><dt><b><i>tcp_pcbs</i></b></dt><a name="label13769"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[o|niiiiisioiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii[d*][d*][d*]]*]</b>.
<p>
TCP PCBs. Do not attempt to setup connections yourself using this attribute, but use functionality in each separate TCP service to do so.</dd></dl>
<dl><dt><b><i>tcp_pcbs_all</i></b></dt><a name="label13770"></a><dd><b>Pseudo</b> attribute; <b>read-only</b> access; type: <b>[[o|niiiiisioiiiiiiiiiiiiiiiiiiiiiiiiiiiiiiii[d*][d*][d*]]*]</b>.
<p>
TCP PCBs. This attribute is identical to tcp_pcbs with the exception that it can only be read and that it also includes connections that will not be checkpointed.</dd></dl>
<dl><dt><b><i>tcp_ticks</i></b></dt><a name="label13771"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>Integer</b>.
<p>
TCP ticks.</dd></dl>
<dl><dt><b><i>tcp_timer</i></b></dt><a name="label13772"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>Integer</b>.
<p>
TCP timer.</dd></dl>
<dl><dt><b><i>tcp_timer_active</i></b></dt><a name="label13773"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>Integer</b>.
<p>
TCP initial sequence number.</dd></dl>
<dl><dt><b><i>tftp_sessions</i></b></dt><a name="label13774"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[iissssi]*]</b>.
<p>
The active sessions in the TFTP service. The sub-entries for each session are <i>server TID</i>, <i>client TID</i>, <i>read/write</i>, <i>server IP address</i>, <i>client IP address</i>, <i>file name</i>, <i>last read block</i>. </dd></dl>
<dl><dt><b><i>udp_checksumming</i></b></dt><a name="label13775"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>b</b>.
<p>
When set, an UDP checksum will be calculated and placed in the checksum field of outgoing UDP packets. Default is TRUE.</dd></dl>
<dl><dt><b><i>udp_pcbs</i></b></dt><a name="label13776"></a><dd><b>Optional</b> attribute; <b>read/write</b> access; type: <b>[[o|niiiiiiiiioi]*]</b>.
<p>
UDP PCBs. Do not attempt to setup connections yourself using this attribute, but use functionality in each separate UDP service to do so.</dd></dl>
<dl><dt><b><i>udp_pcbs_all</i></b></dt><a name="label13777"></a><dd><b>Pseudo</b> attribute; <b>read-only</b> access; type: <b>[[o|niiiiiiiiioi]*]</b>.
<p>
UDP PCBs. This attribute is identical to udp_pcbs with the exception that it can only be read and that it also includes connections that will not be checkpointed.</dd></dl>
</dd>

</dl>

<a name="label13778"></a><h4 class="jdocu">Command List</h4 class="jdocu">


<dl class="jdocu_di">


<dt class="jdocu_di"><b>Commands defined by interface <a class="jdocu" href="topic508.html#label17766">log_object</a></b></dt><dd class="jdocu_di">
<a class="jdocu" href="topic508.html#label17770">log</a>, <a class="jdocu" href="topic508.html#label17772">log-group</a>, <a class="jdocu" href="topic508.html#label17774">log-level</a>, <a class="jdocu" href="topic508.html#label17776">log-size</a>, <a class="jdocu" href="topic508.html#label17778">log-type</a></dd>


<dt class="jdocu_di"><b>Commands</b></dt><dd class="jdocu_di">
<table>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13780">add-host</a></b></td><td class="jdocu_noborder">add host entry</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13782">arp</a></b></td><td class="jdocu_noborder">inspect and manipulate ARP table</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13784">connect</a></b></td><td class="jdocu_noborder">connect to an ethernet link</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13786">dhcp-add-pool</a></b></td><td class="jdocu_noborder">add DHCP pool</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13788">dhcp-leases</a></b></td><td class="jdocu_noborder">show DHCP leases</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13790">disable-real-dns</a></b></td><td class="jdocu_noborder">disable real DNS</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13792">disable-service</a></b></td><td class="jdocu_noborder">disable network service</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13794">enable-ftp-alg</a></b></td><td class="jdocu_noborder">enable FTP ALG</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13796">enable-real-dns</a></b></td><td class="jdocu_noborder">enable real DNS</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13798">enable-service</a></b></td><td class="jdocu_noborder">enable network service</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13800">info</a></b></td><td class="jdocu_noborder">print information about the device</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13802">list-host-info</a></b></td><td class="jdocu_noborder">print host info database</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13804">route</a></b></td><td class="jdocu_noborder">show the routing table</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13806">route-add</a></b></td><td class="jdocu_noborder">add an entry to the routing table</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13808">status</a></b></td><td class="jdocu_noborder">print status of the device</td></tr>
<tr><td class="jdocu_noborder"><b><a class="jdocu" href="#label13810">tcpip-info</a></b></td><td class="jdocu_noborder">show TCP/IP info</td></tr>
</table>
</dd>

</dl>

<a name="label13779"></a><h4 class="jdocu">Command Descriptions</h4 class="jdocu">




<a name="label13780"></a><a name="label13781"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.add-host</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.add-host</b> <i>"ip"</i> <i>"name"</i> [<i>"domain"</i>] [<i>"mac"</i>] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Add a host entry to the DHCP and DNS server tables.</dd>


<dt class="jdocu_di"><b>See Also</b></dt><dd class="jdocu_di">
<a class="jdocu" href="#label13802">&lt;service-node&gt;.list-host-info</a></dd>

</dl>



<a name="label13782"></a><a name="label13783"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.arp</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.arp</b> [-d] [<i>"delete-ip"</i>] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Prints the ARP table for the service node if called with no
arguments. An ARP entry can be deleted using the -d flag and
the IP address.</dd>

</dl>



<a name="label13784"></a><a name="label13785"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.connect</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.connect</b> <i>link</i> <i>"ip"</i> [<i>"netmask"</i>] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Connect this service node to an Ethernet link object.
<p>
The <i>ip</i> argument gives the IP address that the service node
will use on the link, and the <i>netmask</i> argument the netmask.
Optionally, the netmask may be given in the <i>ip</i> argument as
a <tt>/bits</tt> suffix.  The netmask may also left out entirely, in
which case it will default to <tt>255.255.255.0</tt>.</dd>

</dl>



<a name="label13786"></a><a name="label13787"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.dhcp-add-pool</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.dhcp-add-pool</b> <i>pool-size</i> <i>"ip"</i> [<i>"name"</i>] [<i>"domain"</i>] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Add an IP address pool to the DHCP server.  The
<i>pool-size</i> parameter defines the number of available
addresses in the pool, starting with address <i>ip</i>.  The
DNS server will map the addresses to a name that is the
<i>name</i> parameter with a number appended, in the
<i>domain</i> domain.</dd>

</dl>



<a name="label13788"></a><a name="label13789"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.dhcp-leases</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.dhcp-leases</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Print the list of active DHCP leases.</dd>

</dl>



<a name="label13790"></a><a name="label13791"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.disable-real-dns</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.disable-real-dns</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Disable forwarding of DNS queries for unknown hosts to the real DNS server.</dd>

</dl>



<a name="label13792"></a><a name="label13793"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.disable-service</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.disable-service</b> [<i>"name"</i>] [-all] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Disable a named network service in the service-node,
or all of the <i>-all</i> flag is used.</dd>

</dl>



<a name="label13794"></a><a name="label13795"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.enable-ftp-alg</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.enable-ftp-alg</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Enable the FTP ALG. FTP ALG processing is needed to support port forwarded
FTP from the outside network to simulated machines.</dd>

</dl>



<a name="label13796"></a><a name="label13797"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.enable-real-dns</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.enable-real-dns</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Enable forwarding of DNS queries for unknown hosts to the real DNS server.</dd>

</dl>



<a name="label13798"></a><a name="label13799"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.enable-service</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.enable-service</b> [<i>"name"</i>] [-all] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Enable a named network service in the service-node,
or all of the <i>-all</i> flag is used.</dd>

</dl>



<a name="label13800"></a><a name="label13801"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.info</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.info</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Print detailed information about the configuration of the device.</dd>

</dl>



<a name="label13802"></a><a name="label13803"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.list-host-info</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.list-host-info</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Print the host information database, used by the DHCP
and DNS server.</dd>


<dt class="jdocu_di"><b>See Also</b></dt><dd class="jdocu_di">
<a class="jdocu" href="#label13780">&lt;service-node&gt;.add-host</a></dd>

</dl>



<a name="label13804"></a><a name="label13805"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.route</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.route</b> [-port] </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Print the routing table.
<p>
By default, the name of the link on which traffic will be send is
printed in the last column, but if the <i>-port</i> flag is
use, the port device will be printed instead.</dd>

</dl>



<a name="label13806"></a><a name="label13807"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.route-add</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.route-add</b> <i>"net"</i> [<i>"netmask"</i>] [<i>"gateway"</i>] <i>link</i> </dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Add to the routing table.</dd>

</dl>



<a name="label13808"></a><a name="label13809"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.status</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.status</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Print detailed information about the current status of the device.</dd>

</dl>



<a name="label13810"></a><a name="label13811"></a><dl class="jdocu_di">

<dt class="jdocu_di_name">
<b>&lt;service-node&gt;.tcpip-info</b></dt>

<dt class="jdocu_di_synopsis">Synopsis</dt><dd class="jdocu_di_synopsis">
<b>&lt;service-node&gt;.tcpip-info</b></dd>

<dt class="jdocu_di_description">Description</dt><dd class="jdocu_di_description">
Print all TCP/IP connections.</dd>

</dl>


<p class="jdocu_navbarp"><span class="jdocu_navbar">VIRTUTECH CONFIDENTIAL&nbsp;&nbsp;&nbsp;&nbsp;<a class="jdocu" href="topic361.html">Previous</a> - <a class="jdocu" href="topic15.html">Up</a> - <a class="jdocu" href="topic363.html">Next</a></span></p>
</body>
</html>
